<template>
    <div class="Service" id="service">
        <ServiceGroup v-for="serviceGroup in serviceGroupList" :key="serviceGroup" :serviceGroup="serviceGroup" />

        <div class="Service__big_title">
            <img :src="require('@/static/images/title2.png')" alt="" />
        </div>
    </div>
</template>

<script>
import ServiceGroup from '@/components/ServiceGroup'
import 'intersection-observer'
import scrollama from 'scrollama'

export default {
    components: {
        ServiceGroup,
    },
    data() {
        return {
            serviceGroupList: [
                {
                    id: 0,
                    title: '設計',
                    serviceList: [
                        {
                            id: 0,
                            group: 0,
                            title: '招牌設計',
                            icon: require('@/static/images/service/service_1.png'),
                            url: '',
                        },
                        {
                            id: 1,
                            group: 0,
                            title: '指標設計',
                            icon: require('@/static/images/service/service_2.png'),
                            url: '',
                        },
                        {
                            id: 2,
                            group: 0,
                            title: '平面視覺設計',
                            icon: require('@/static/images/service/service_3.png'),
                            url: '',
                        },
                        {
                            id: 3,
                            group: 0,
                            title: '環境視覺設計',
                            icon: require('@/static/images/service/service_4.png'),
                            url: '',
                        },
                    ],
                },
                {
                    id: 1,
                    title: '工程',
                    serviceList: [
                        {
                            id: 0,
                            group: 1,
                            title: '招牌工程',
                            icon: require('@/static/images/service/service_5.png'),
                            url: '',
                        },
                        {
                            id: 1,
                            group: 1,
                            title: '指標工程',
                            icon: require('@/static/images/service/service_6.png'),
                            url: '',
                        },
                        {
                            id: 2,
                            group: 1,
                            title: '意象工程',
                            icon: require('@/static/images/service/service_7.png'),
                            url: '',
                        },
                    ],
                },
                {
                    id: 2,
                    title: '攝影',
                    serviceList: [
                        {
                            id: 0,
                            group: 2,
                            title: '商用攝影',
                            icon: require('@/static/images/service/service_8.png'),
                            url: '',
                        },
                        {
                            id: 1,
                            group: 2,
                            title: '意象攝影',
                            icon: require('@/static/images/service/service_9.png'),
                            url: '',
                        },
                    ],
                },
            ],
        }
    },

    mounted() {
        const allServices = document.querySelectorAll('.ServiceCard')

        // // instantiate the scrollama
        // const showServiceScroller = scrollama()

        // // setup the instance, pass callback functions
        // showServiceScroller
        //     .setup({
        //         step: '.Service',
        //         offset: 0.6,
        //     })
        //     .onStepEnter((response) => {
        //         // { element, index, direction }
        //         allServices.forEach((service, index) => {
        //             setTimeout(() => {
        //                 service.classList.add('show_service')
        //             }, index * 100)
        //         })
        //     })
        //     .onStepExit((response) => {
        //         // console.log('hide service')
        //         // { element, index, direction }
        //     })

        // // setup resize event
        // window.addEventListener('resize', showServiceScroller.resize)

        // const hideServiceScroller = scrollama()
        // hideServiceScroller
        //     .setup({
        //         step: '.Service',
        //         offset: 0.5,
        //     })
        //     .onStepExit((response) => {
        //         allServices.forEach((service, index) => {
        //             service.classList.remove('show_service')
        //         })
        //     })

        // // setup resize event
        // window.addEventListener('resize', hideServiceScroller.resize)
    },
}
</script>

<style lang="scss" scoped>
.Service {
    width: 100%;
    background: white;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    position: relative;
    @include atSmall {
        height: 100vh;
    }

    &__big_title {
        width: 67px;
        position: absolute;
        top: 0;
        right: 10px;
        transform: translateY(-53%);

        opacity: 0.3;
        img {
            width: 100%;
        }
    }
}
</style>
